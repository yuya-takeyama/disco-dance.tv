<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
    <script type="text/javascript" src="/javascripts/socket.io.js"></script>
    <script type="text/javascript" src="/javascripts/disco-dance.tv.js"></script>
    <script type="text/javascript">
      $(function () {
        var player = new DiscoDanceTV.Player(window)
          , socket = io.connect('http://' + document.location.host)
          , counter = new DiscoDanceTV.Counter(new DiscoDanceTV.View.Counter($('#counter')))
          , app = new DiscoDanceTV.Application({
              socket: socket,
              jQuery: jQuery,
              player: player,
              counter: counter,
          });

        app.run();

        // Exports objects to global context for debugging reason.
        window.player = player;
        window.socket = socket;
        window.app = app;
      });
    </script>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1>Disco-Dance.tv</h1>
    <%- body %>
  </body>
</html>
